function calculateWeight() {
  const type = document.getElementById('type').value;
  let weight = 0;

  if (type === "rod") {
    const d = parseFloat(document.getElementById('diameter').value);
    const l = parseFloat(document.getElementById('length').value);
    if (d && l) {
      const radius_m = (d / 1000) / 2; // mm → m
      const length_m = l / 1000;
      const volume_m3 = Math.PI * Math.pow(radius_m, 2) * length_m;
      weight = volume_m3 * 7850; // kg/m³
    }
  } else if (type === "tube") {
    const D = parseFloat(document.getElementById('outer-diameter').value);
    const t = parseFloat(document.getElementById('wall-thickness').value);
    const l = parseFloat(document.getElementById('length-tube').value);
    if (D && t && l) {
      const outer_radius_m = (D / 1000) / 2;
      const inner_radius_m = ((D - 2 * t) / 1000) / 2;
      const length_m = l / 1000;
      const volume_m3 = Math.PI * (Math.pow(outer_radius_m, 2) - Math.pow(inner_radius_m, 2)) * length_m;
      weight = volume_m3 * 7850; // kg/m³
    }
  } else if (type === "sheet") {
    const w = parseFloat(document.getElementById('width').value);
    const h = parseFloat(document.getElementById('height').value);
    const t = parseFloat(document.getElementById('thickness').value);
    if (w && h && t) {
      const width_m = w / 1000;
      const height_m = h / 1000;
      const thickness_m = t / 1000;
      const volume_m3 = width_m * height_m * thickness_m;
      weight = volume_m3 * 7850; // kg/m³
    }
  }

  document.getElementById('weight').textContent = weight.toFixed(2);
}
